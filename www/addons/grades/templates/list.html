<ion-view view-title="{{ 'mma.grades.grades' | translate }}">
    <mm-split-view load-when="participantsLoaded" component="mmaGradesList">
          <ion-content>
            <!-- ion-refresher needs to be direct child of ion-content to work with native scrolling -->
            <ion-refresher pulling-text="{{ 'mm.core.pulltorefresh' | translate }}" on-refresh="refreshParticipants()">
            </ion-refresher>
            <mm-loading hide-until="participantsLoaded">
              <mm-split-view load-when="participantsLoaded" component="mmaGradesList">
                <p ng-if="participants && participants.length == 0" class="padding">{{ 'mma.grades.noContent' | translate }}</p>
                <div ng-if="!gradesBol" class="item item-body">
                  <a class="button button-icon icon ion-ios-download-outline" ng-click="downloadAll()"></a>
                  <a class="button button-icon icon ion-android-sync" ng-click="addGrade()"></a>
                </div>
                <ul class="list" ng-if="participants && participants.length > 0 && gradesBol">
                    <li ng-repeat="participant in participants">
                        <a class="item item-avatar" mm-split-view-link="site.grades-teacher({courseid: courseid, userid: participant.id})" title="{{participant.fullname}}">
                            <img ng-src="{{participant.profileimageurl}}" alt="">
                            <mm-format-text>{{participant.fullname}}</mm-format-text>
                        </a>
                    </li>
                </ul>
                <ul class="list" ng-if="participants && participants.length > 0 && !gradesBol">
                    <li ng-repeat="participant in participants">
                      <a class="item item-avatar" mm-split-view-link="site.grades-grading({submission: submission, userid: userid, assign: assign, courseid: courseid})" title="{{participant.fullname}}">
                          <img ng-src="{{participant.profileimageurl}}" alt="">
                          <mm-format-text>{{participant.fullname}}</mm-format-text>
                      </a>
                  </li>
                </ul>

                <!--<ion-infinite-scroll ng-if="canLoadMore"
                        immediate-check="false"
                        on-infinite="loadMoreParticipants()" >
                </ion-infinite-scroll>-->

              </mm-split-view>
            </mm-loading>
    </mm-split-view>
</ion-view>
